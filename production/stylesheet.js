define("stylesheet",function(){var e,t,n={},s=function(){var e,t="";for(e in n)t+=e,t+=" ",t+=n[e],t+="\n";return t.replace(/\n$/,""),t};return{init:function(n){e=n.element,t=n.indent},setRule:function(r,l){if(l){var i,c=!1,o=e.sheet.cssRules.length-1;for(i="{\n"+t+l.replace(/; (\w)/g,";\n"+t+"$1")+"\n}";o>=0;)r==e.sheet.cssRules[o].selectorText&&(c=e.sheet.cssRules[o],o=0),o--;if(c){var u,p,f,g,a={};for(u=l.replace(/(:|;)\s/g,"$1").split(";"),u.pop(),p=c.style.cssText.replace(/(:|;)\s/g,"$1").split(";"),p.pop(),o=0,f=u.length;f>o;o++)g=u[o].split(":"),a[g[0]]=g[1];for(o=0,f=p.length;f>o;o++)g=p[o].split(":"),a.hasOwnProperty(g[0])&&(p[o]=g[0]+":"+a[g[0]],delete a[g[0]]);for(o in a)p.push(o+":"+a[o]);p=p.join(";").replace(/(:|;)/g,"$1 ").replace(/\s$/,"")+";",c.style.cssText=p,p="{\n"+t+p.replace(/; /g,";\n"+t)+"\n}",i=p}else e.sheet.insertRule(r+i,e.sheet.cssRules.length);n[r]=i,e.textContent=s()}},setString:function(t){if(e.textContent!=t){var s,r=t.split("}").slice(0,-1);n={};for(var l=0,i=r.length;i>l;l++)s=r[l].split("{"),n[s[0].trim()]="{"+s[1]+"}";e.textContent=t}},getRules:function(){return n},getString:function(){return e.textContent},getElement:function(){return e}}});