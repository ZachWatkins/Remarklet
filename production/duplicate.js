define("duplicate",["stylesheet"],function(e){var t,o,r=function(e){var t=e.tagName.toLowerCase(),o=e.id,r=e.className;return""!==o&&(t+="#",t+=e.id),""!==r.trim()&&(t+=".",t+=r.trim().replace(/\s+/g,".")),t},c=function(e,t){for(var o,c=t.parentNode,a=e.parentNode,n=r(t);c!=a;)o=n,n=r(c),n+=" ",n+=o,c=c.parentNode;return n},a=function(e,t,o){var r=window.getComputedStyle(e,o);if(void 0!==o&&"none"===r.content)return"";for(var c,a,n,l=window.getComputedStyle(t,o),i="",s=0,d=r.length;d>s;s++)if(c=!1,a=r[s],n=r.getPropertyValue(a),n!=l.getPropertyValue(a)){switch(a){case"outline-color":case"text-decoration-color":case"-webkit-text-emphasis-color":case"-webkit-text-fill-color":case"-webkit-text-stroke-color":case"-moz-text-decoration-color":case"-webkit-text-decoration-color":n==r.color&&(c=!0);break;case"border-bottom-color":case"border-left-color":case"border-right-color":case"border-top-color":(""===r.borderWidth||"0px"==r.borderWidth)&&(c=!0);break;case"-moz-column-rule-color":case"-webkit-column-rule-color":"0px"==r.getPropertyValue(a.replace("color","width"))&&(c=!0);break;case"text-decoration-line":case"-moz-text-decoration-line":case"-webkit-text-decoration-line":n==r.textDecoration&&(c=!0);break;case"column-gap":case"-moz-column-gap":case"-webkit-column-gap":"auto"==r.getPropertyValue(a.replace("gap","count"))&&"auto"==r.getPropertyValue(a.replace("gap","width"))&&(c=!0);break;case"transform-origin":case"perspective-origin":"none"==r.getPropertyValue(a.replace("-origin",""))&&(c=!0);break;case"-webkit-text-decorations-in-effect":c=!0;break;case"content":"none"==n&&(c=!0)}c||(i+=a,i+=": ",i+=n,i+="; ")}return i};return{init:function(r,c){e.init(r),t=e.setRule,o=c||{}},create:function(r,n,l){"string"==typeof r&&(r=document.querySelector(r));var i,s=r.cloneNode(!0),d=r.getElementsByTagName("*"),p=s.getElementsByTagName("*"),u=e.getRules(),g=r,m=s,b=d.length;for("string"==typeof n?document.querySelector(n).appendChild(s):n.nextSibling?n.parentNode.insertBefore(s,n.nextSibling):n.parentNode.appendChild(s),l&&(l.id&&(""!==l.id?s.id=l.id:s.removeAttribute("id")),l["class"]&&(""!==l["class"]?s.className=l["class"]:s.removeAttribute("class"))),i=0;b>=i;i++){i&&(g=d[i-1],m=p[i-1]),cloneSelector=c(s,m),o.id===!1&&(cloneSelector=cloneSelector.replace(/#[a-z0-9\-_]+/gi,"")),o.tag===!1&&(cloneSelector=cloneSelector.replace(/^[a-z]+/gi,""));var f=cloneSelector.match(/\.[a-z0-9\-\._]+/i);f&&"string"==typeof o.classname&&(cloneSelector=cloneSelector.replace(f[0],f[0].match(new RegExp(o.classname,"i")))),u.hasOwnProperty(cloneSelector)||(t(cloneSelector,a(g,m)),t(cloneSelector+":before",a(g,m,":before")),t(cloneSelector+":after",a(g,m,":after")))}return s},setSheet:function(t){e.setSheet(t)}}});